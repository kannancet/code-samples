---
http_interactions:
- request:
    method: get
    uri: https://www.quandl.com/api/v3/datatables/WIKI/PRICES.json?api_key=gTA7KrJRJM8o451YTy3z&date.gte=2017-12-01&date.lte=2018-01-28&ticker=AAPL
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 28 Jan 2018 11:11:49 GMT
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '1257'
      Connection:
      - keep-alive
      Set-Cookie:
      - __cfduid=df435c0a4e701cc913d418dee17f573941517137909; expires=Mon, 28-Jan-19
        11:11:49 GMT; path=/; domain=.quandl.com; HttpOnly
      Cache-Control:
      - max-age=0, private, must-revalidate
      Etag:
      - W/"fd3cde83b10519ec2f083243b27e7e53"
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - '50000'
      X-Ratelimit-Remaining:
      - '49985'
      X-Request-Id:
      - bb47e683-8ac8-4722-8bb2-70c9e4ffdf7b
      X-Runtime:
      - '0.095491'
      X-Xss-Protection:
      - 1; mode=block
      Expect-Ct:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Server:
      - cloudflare
      Cf-Ray:
      - 3e43835b4ad127aa-FRA
    body:
      encoding: ASCII-8BIT
      string: '{"datatable":{"data":[["AAPL","2017-12-01",169.95,171.67,168.5,171.05,39590080.0,0.0,1.0,169.95,171.67,168.5,171.05,39590080.0],["AAPL","2017-12-04",172.48,172.62,169.63,169.8,32115052.0,0.0,1.0,172.48,172.62,169.63,169.8,32115052.0],["AAPL","2017-12-05",169.06,171.52,168.4,169.64,27008428.0,0.0,1.0,169.06,171.52,168.4,169.64,27008428.0],["AAPL","2017-12-06",167.5,170.2047,166.46,169.01,28224357.0,0.0,1.0,167.5,170.2047,166.46,169.01,28224357.0],["AAPL","2017-12-07",169.03,170.44,168.91,169.452,24469613.0,0.0,1.0,169.03,170.44,168.91,169.452,24469613.0],["AAPL","2017-12-08",170.49,171.0,168.82,169.37,23096872.0,0.0,1.0,170.49,171.0,168.82,169.37,23096872.0],["AAPL","2017-12-11",169.2,172.89,168.79,172.67,33092051.0,0.0,1.0,169.2,172.89,168.79,172.67,33092051.0],["AAPL","2017-12-12",172.15,172.39,171.461,171.7,18945457.0,0.0,1.0,172.15,172.39,171.461,171.7,18945457.0],["AAPL","2017-12-13",172.5,173.54,172.0,172.27,23142242.0,0.0,1.0,172.5,173.54,172.0,172.27,23142242.0],["AAPL","2017-12-14",172.4,173.13,171.65,172.22,20219307.0,0.0,1.0,172.4,173.13,171.65,172.22,20219307.0],["AAPL","2017-12-15",173.63,174.17,172.46,173.87,37054632.0,0.0,1.0,173.63,174.17,172.46,173.87,37054632.0],["AAPL","2017-12-18",174.88,177.2,174.86,176.42,28831533.0,0.0,1.0,174.88,177.2,174.86,176.42,28831533.0],["AAPL","2017-12-19",175.03,175.39,174.09,174.54,27078872.0,0.0,1.0,175.03,175.39,174.09,174.54,27078872.0],["AAPL","2017-12-20",174.87,175.42,173.25,174.35,23000392.0,0.0,1.0,174.87,175.42,173.25,174.35,23000392.0],["AAPL","2017-12-21",174.17,176.02,174.1,175.01,20356826.0,0.0,1.0,174.17,176.02,174.1,175.01,20356826.0],["AAPL","2017-12-22",174.68,175.424,174.5,175.01,16052615.0,0.0,1.0,174.68,175.424,174.5,175.01,16052615.0],["AAPL","2017-12-26",170.8,171.47,169.679,170.57,32968167.0,0.0,1.0,170.8,171.47,169.679,170.57,32968167.0],["AAPL","2017-12-27",170.1,170.78,169.71,170.6,21672062.0,0.0,1.0,170.1,170.78,169.71,170.6,21672062.0],["AAPL","2017-12-28",171.0,171.85,170.48,171.08,15997739.0,0.0,1.0,171.0,171.85,170.48,171.08,15997739.0],["AAPL","2017-12-29",170.52,170.59,169.22,169.23,25643711.0,0.0,1.0,170.52,170.59,169.22,169.23,25643711.0],["AAPL","2018-01-02",170.16,172.3,169.26,172.26,25048048.0,0.0,1.0,170.16,172.3,169.26,172.26,25048048.0],["AAPL","2018-01-03",172.53,174.55,171.96,172.23,28819653.0,0.0,1.0,172.53,174.55,171.96,172.23,28819653.0],["AAPL","2018-01-04",172.54,173.47,172.08,173.03,22211345.0,0.0,1.0,172.54,173.47,172.08,173.03,22211345.0],["AAPL","2018-01-05",173.44,175.37,173.05,175.0,23016177.0,0.0,1.0,173.44,175.37,173.05,175.0,23016177.0],["AAPL","2018-01-08",174.35,175.61,173.93,174.35,20134092.0,0.0,1.0,174.35,175.61,173.93,174.35,20134092.0],["AAPL","2018-01-09",174.55,175.06,173.41,174.33,21262614.0,0.0,1.0,174.55,175.06,173.41,174.33,21262614.0],["AAPL","2018-01-10",173.16,174.3,173.0,174.29,23589129.0,0.0,1.0,173.16,174.3,173.0,174.29,23589129.0],["AAPL","2018-01-11",174.59,175.4886,174.49,175.28,17523256.0,0.0,1.0,174.59,175.4886,174.49,175.28,17523256.0],["AAPL","2018-01-12",176.18,177.36,175.65,177.09,25039531.0,0.0,1.0,176.18,177.36,175.65,177.09,25039531.0],["AAPL","2018-01-16",177.9,179.39,176.14,176.19,29159005.0,0.0,1.0,177.9,179.39,176.14,176.19,29159005.0],["AAPL","2018-01-17",176.15,179.25,175.07,179.1,32752734.0,0.0,1.0,176.15,179.25,175.07,179.1,32752734.0],["AAPL","2018-01-18",179.37,180.1,178.25,179.26,30234512.0,0.0,1.0,179.37,180.1,178.25,179.26,30234512.0],["AAPL","2018-01-19",178.61,179.58,177.41,178.46,30827809.0,0.0,1.0,178.61,179.58,177.41,178.46,30827809.0],["AAPL","2018-01-22",177.3,177.78,176.6016,177.0,26023683.0,0.0,1.0,177.3,177.78,176.6016,177.0,26023683.0],["AAPL","2018-01-23",177.3,179.44,176.82,177.04,31702531.0,0.0,1.0,177.3,179.44,176.82,177.04,31702531.0],["AAPL","2018-01-24",177.25,177.3,173.2,174.22,50562257.0,0.0,1.0,177.25,177.3,173.2,174.22,50562257.0],["AAPL","2018-01-25",174.505,174.95,170.53,171.11,39661804.0,0.0,1.0,174.505,174.95,170.53,171.11,39661804.0],["AAPL","2018-01-26",172.0,172.0,170.06,171.51,37121805.0,0.0,1.0,172.0,172.0,170.06,171.51,37121805.0]],"columns":[{"name":"ticker","type":"String"},{"name":"date","type":"Date"},{"name":"open","type":"BigDecimal(34,12)"},{"name":"high","type":"BigDecimal(34,12)"},{"name":"low","type":"BigDecimal(34,12)"},{"name":"close","type":"BigDecimal(34,12)"},{"name":"volume","type":"BigDecimal(37,15)"},{"name":"ex-dividend","type":"BigDecimal(42,20)"},{"name":"split_ratio","type":"double"},{"name":"adj_open","type":"BigDecimal(50,28)"},{"name":"adj_high","type":"BigDecimal(50,28)"},{"name":"adj_low","type":"BigDecimal(50,28)"},{"name":"adj_close","type":"BigDecimal(50,28)"},{"name":"adj_volume","type":"double"}]},"meta":{"next_cursor_id":null}}'
    http_version: 
  recorded_at: Sun, 28 Jan 2018 11:11:49 GMT
- request:
    method: get
    uri: https://www.quandl.com/api/v3/datatables/WIKI/PRICES.json?api_key=XXXX&date.gte=2017-12-01&date.lte=2018-01-28&ticker=AAPL
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Date:
      - Sun, 28 Jan 2018 11:25:05 GMT
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '132'
      Connection:
      - keep-alive
      Set-Cookie:
      - __cfduid=d2e581cc067d16e198e5b93612c58daec1517138705; expires=Mon, 28-Jan-19
        11:25:05 GMT; path=/; domain=.quandl.com; HttpOnly
      Expect-Ct:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Server:
      - cloudflare
      Cf-Ray:
      - 3e4396ca5e3e2756-FRA
    body:
      encoding: UTF-8
      string: '{ "quandl_error": { "code": "QEAx01", "message": "We could not recognize
        your API key. Please check your API key and try again." } }'
    http_version: 
  recorded_at: Sun, 28 Jan 2018 11:25:05 GMT
recorded_with: VCR 4.0.0
